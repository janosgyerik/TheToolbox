/*-----------------------------------------------------------------------------------

	Custom JS - All custom front-end jQuery

-----------------------------------------------------------------------------------*//*!
*  JqueryAsynchImageLoader (JAIL) : plugin for jQuery
*
* Developed by
* Sebastiano Armeli-Battana (@sebarmeli) - http://www.sebastianoarmelibattana.com
* Dual licensed under the MIT or GPL Version 3 licenses.
* @version 0.9.5
*/(function(a){var b=a(window);a.fn.asynchImageLoader=a.fn.jail=function(c){c=a.extend({timeout:10,effect:!1,speed:400,selector:null,offset:0,event:"load+scroll",callback:jQuery.noop,callbackAfterEachImage:jQuery.noop,placeholder:!1,container:window},c);var d=this;a.jail.initialStack=this;this.data("triggerEl",c.selector?a(c.selector):b);c.placeholder!==!1&&d.each(function(){a(this).attr("src",c.placeholder)});/^load/.test(c.event)?a.asynchImageLoader.later.call(this,c):a.asynchImageLoader.onEvent.call(this,c,d);return this};a.asynchImageLoader=a.jail={_purgeStack:function(a){var b=0;for(;;){if(b===a.length)break;a[b].getAttribute("data-href")?b++:a.splice(b,1)}},_loadOnEvent:function(b){var c=a(this),d=b.data.options,e=b.data.images;a.asynchImageLoader._loadImage(d,c);c.unbind(d.event,a.asynchImageLoader._loadOnEvent);a.asynchImageLoader._purgeStack(e);if(!!d.callback){a.asynchImageLoader._purgeStack(a.jail.initialStack);a.asynchImageLoader._launchCallback(a.jail.initialStack,d)}},_bufferedEventListener:function(b){var c=b.data.images,d=b.data.options,e=c.data("triggerEl");clearTimeout(c.data("poller"));c.data("poller",setTimeout(function(){c.each(function(){a.asynchImageLoader._loadImageIfVisible(d,this,e)});a.asynchImageLoader._purgeStack(c);if(!!d.callback){a.asynchImageLoader._purgeStack(a.jail.initialStack);a.asynchImageLoader._launchCallback(a.jail.initialStack,d)}},d.timeout))},onEvent:function(c,d){d=d||this;if(c.event==="scroll"||c.selector){var e=d.data("triggerEl");if(d.length>0){e.bind(c.event,{images:d,options:c},a.asynchImageLoader._bufferedEventListener);(c.event==="scroll"||!c.selector)&&b.resize({images:d,options:c},a.asynchImageLoader._bufferedEventListener);return}!e||e.unbind(c.event,a.asynchImageLoader._bufferedEventListener)}else d.bind(c.event,{options:c,images:d},a.asynchImageLoader._loadOnEvent)},later:function(b){var c=this;b.event==="load"&&c.each(function(){a.asynchImageLoader._loadImageIfVisible(b,this,c.data("triggerEl"))});a.asynchImageLoader._purgeStack(c);a.asynchImageLoader._launchCallback(c,b);setTimeout(function(){b.event==="load"?c.each(function(){a.asynchImageLoader._loadImage(b,a(this))}):c.each(function(){a.asynchImageLoader._loadImageIfVisible(b,this,c.data("triggerEl"))});a.asynchImageLoader._purgeStack(c);a.asynchImageLoader._launchCallback(c,b);if(b.event==="load+scroll"){b.event="scroll";a.asynchImageLoader.onEvent(b,c)}},b.timeout)},_launchCallback:function(b,c){if(b.length===0&&!a.jail.isCallback){c.callback.call(this,c);a.jail.isCallback=!0}},_loadImageIfVisible:function(c,d,e){var f=a(d),g=/scroll/i.test(c.event)?e:b;a.asynchImageLoader._isInTheScreen(g,f,c.offset)&&a.asynchImageLoader._loadImage(c,f)},_isInTheScreen:function(a,b,c){var d=a[0]===window,e=d?{top:0,left:0}:a.offset(),f=e.top+(d?a.scrollTop():0),g=e.left+(d?a.scrollLeft():0),h=g+a.width(),i=f+a.height(),j=b.offset(),k=b.width(),l=b.height();return f-c<=j.top+l&&i+c>=j.top&&g-c<=j.left+k&&h+c>=j.left},_loadImage:function(a,b){b.hide();b.attr("src",b.attr("data-href"));b.removeAttr("data-href");a.effect?a.speed?b[a.effect](a.speed):b[a.effect]():b.show();a.callbackAfterEachImage.call(this,a)}}})(jQuery);(function(a){function r(a){return a&&a.toLowerCase?a.toLowerCase():a}function s(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c)return!b;return b}var b=!1,c=null,d=parseFloat,e=String.fromCharCode,f=Math.min,g=/(-?\d+\.?\d*)$/g,h,i=[],j,k,l=9472,m={},n;Array.indexOf||(Array.prototype.indexOf=function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]==a)return b;return-1});for(var o=32,p=e(o),q=255;o<q;o++,p=e(o).toLowerCase())i.indexOf(p)!==-1&&i.push(p);i.sort();a.tinysort={id:"TinySort",version:"1.3.27",copyright:"Copyright (c) 2008-2012 Ron Valstar",uri:"http://tinysort.sjeiti.com/",licenced:{MIT:"http://www.opensource.org/licenses/mit-license.php",GPL:"http://www.gnu.org/licenses/gpl.html"},defaults:{order:"asc",attr:c,data:c,useVal:b,place:"start",returns:b,cases:b,forceStrings:b,sortFunction:c,charOrder:h}};a.fn.extend({tinysort:function(o,p){if(o&&typeof o!="string"){p=o;o=c}var q=a.extend({},a.tinysort.defaults,p),v,w=this,x=a(this).length,y={},z=!!o&&o!="",A=q.attr!==c&&q.attr!="",B=q.data!==c,C=z&&o[0]==":",D=C?w.filter(o):w,E=q.sortFunction,F=q.order=="asc"?1:-1,G=[];if(q.charOrder!=h){h=q.charOrder;if(!q.charOrder){k=!1;l=9472;m={};n=j=c}else{j=i.slice(0);k=!1;for(var H=[],I=function(a,b){H.push(b);m[q.cases?a:a.toLowerCase()]=b},J="",K="z",L=h.length,M,N,O=0;O<L;O++){var P=h[O],Q=P.charCodeAt(),R=Q>96&&Q<123;if(!R)if(P=="["){var S=H.length,T=S?H[S-1]:K,U=h.substr(O+1).match(/[^\]]*/)[0],V=U.match(/{[^}]*}/g);if(V)for(M=0,N=V.length;M<N;M++){var W=V[M];O+=W.length;U=U.replace(W,"");I(W.replace(/[{}]/g,""),T);k=!0}for(M=0,N=U.length;M<N;M++)I(T,U[M]);O+=U.length+1}else if(P=="{"){var X=h.substr(O+1).match(/[^}]*/)[0];I(X,e(l++));O+=X.length+1;k=!0}else H.push(P);if(H.length&&(R||O===L-1)){var Y=H.join("");J+=Y;a.each(Y,function(a,b){j.splice(j.indexOf(b),1)});var Z=H.slice(0);Z.splice(0,0,j.indexOf(K)+1,0);Array.prototype.splice.apply(j,Z);H.length=0}O+1===L?n=new RegExp("["+J+"]","gi"):R&&(K=P)}}}E||(E=q.order=="rand"?function(){return Math.random()<.5?1:-1}:function(a,e){var h=b,i=q.cases?a.s:r(a.s),l=q.cases?e.s:r(e.s);if(!q.forceStrings){var o=i&&i.match(g),p=l&&l.match(g);if(o&&p){var s=i.substr(0,i.length-o[0].length),t=l.substr(0,l.length-p[0].length);if(s==t){h=!b;i=d(o[0]);l=d(p[0])}}}var v=F*(i<l?-1:i>l?1:0);if(!h&&q.charOrder){if(k)for(var w in m){var x=m[w];i=i.replace(w,x);l=l.replace(w,x)}if(i.match(n)!==c||l.match(n)!==c)for(var y=0,z=f(i.length,l.length);y<z;y++){var A=j.indexOf(i[y]),B=j.indexOf(l[y]);if(v=F*(A<B?-1:A>B?1:0))break}}return v});w.each(function(b,c){var d=a(c),e=z?C?D.filter(c):d.find(o):d,f=B?""+e.data(q.data):A?e.attr(q.attr):q.useVal?e.val():e.text(),g=d.parent();y[g]||(y[g]={s:[],n:[]});e.length>0?y[g].s.push({s:f,e:d,n:b}):y[g].n.push({e:d,n:b})});for(v in y)y[v].s.sort(E);for(v in y){var $=y[v],_=[],ab=x,bb=[0,0],O;switch(q.place){case"first":a.each($.s,function(a,b){ab=f(ab,b.n)});break;case"org":a.each($.s,function(a,b){_.push(b.n)});break;case"end":ab=$.n.length;break;default:ab=0}for(O=0;O<x;O++){var cb=s(_,O)?!b:O>=ab&&O<ab+$.s.length,db=(cb?$.s:$.n)[bb[cb?0:1]].e;db.parent().append(db);(cb||!q.returns)&&G.push(db.get(0));bb[cb?0:1]++}}w.length=0;Array.prototype.push.apply(w,G);return w}});a.fn.TinySort=a.fn.Tinysort=a.fn.tsort=a.fn.tinysort})(jQuery);(function(a){function c(b){return(val=this.val())?a(b+':containsi("'+val+'")'):!1}a.extend(a.expr[":"],{containsi:function(b,c,d,e){return a(b).text().toLowerCase().indexOf((d[3]||"").toLowerCase())>=0}});var b=function(a){this.callbacks={};a(this)};b.prototype.all=function(a){this.callbacks.all=a};b.prototype.reset=function(a){this.callbacks.reset=a};b.prototype.empty=function(a){this.callbacks.empty=a};b.prototype.results=function(a){this.callbacks.results=a};a.fn.search=function d(e,f){function h(){if(result=c.call(a(this),e)){g.all&&g.all.call(this,result);var b=result.size()>0?"results":"empty";return g[b]&&g[b].call(this,result)}g.all&&g.all.call(this,a(e));return g.reset&&g.reset.call(this)}var d=new b(f),g=d.callbacks;a(this).live("keypress",h);a(this).live("keydown",h);a(this).live("keyup",h);a(this).bind("blur",h)}})(jQuery);jQuery(document).ready(function(){function a(){$height=jQuery("#overlay").outerHeight();jQuery("#overlay").css({marginTop:-$height});jQuery("#overlay-trigger").toggle(function(){jQuery("#overlay").stop().animate({marginTop:0},500,"easeInOutExpo");return!1},function(){jQuery("#overlay").stop().animate({marginTop:-$height},500,"easeInOutExpo");return!1})}function b(a,c,d,e){if(typeof dt!="undefined"){jQuery("#load-more.disabled").click(function(){return!1});if(!a)var a=parseInt(dt.startPage)+1;if(!c)var c=parseInt(dt.maxPages);if(!d)var d=dt.nextLink;if(!e)var e=parseInt(jQuery(".count").text());a<=c?jQuery(".post-navigation").remove():jQuery("#load-more").addClass("disabled");jQuery("#load-more").not(".disabled").click(function(){jQuery(this).unbind("click",b());if(a<=c){jQuery("#detail-holder").fadeOut(200,function(){jQuery("#loader").fadeIn(200)});jQuery("#masonry-new").load(d+" .item.normal",function(){var f=jQuery("#masonry-new .item.normal");jQuery("#masonry").isotope("insert",f,function(){dt_hovers();dt_lightbox();a++;d=d.replace(/\/page\/[0-9]?/,"/page/"+a);a<=c?jQuery("#loader").fadeOut(200,function(){e-=parseInt(jQuery("#loader").attr("data-perpage"));jQuery(".count").text(e);jQuery("#detail-holder").fadeIn(200);jQuery("#load-more").bind("click",b(a,c,d,e))}):jQuery("#loader").fadeOut(200,function(){jQuery("#load-more").addClass("disabled");jQuery(".count").text("0");jQuery("#detail-holder").fadeIn(200);jQuery("#load-more").bind("click",b(a,c,d,e))})})})}return!1})}}$(".share-link").click(function(){var a=$(this).parent();if(!a.hasClass("active")){$(this).parent().toggleClass("active");$(".overlay").toggleClass("hidden")}return!1});$(".share-widget").hover(function(){$(this).addClass("active")},function(){$(this).removeClass("active")});$(".overlay").click(function(){$(this).addClass("hidden");$(".share-widget").removeClass("active")});$(".item img").jail();$("#search-field").keyup(function(){var a=$("#live-search");$(this).val()?a.addClass("active"):a.removeClass("active")});$(".clear-link").click(function(){$("#search-field").val("");$("#search-field").keyup();$("#live-search").removeClass("active")});$("#search-field").search("#masonry .item",function(a){var b=$(".no-results");a.reset(function(){$("#masonry .item").show();b.addClass("hidden")});a.empty(function(){b.removeClass("hidden");$("#masonry .item").hide()});a.results(function(a){b.addClass("hidden");$("#masonry .item").hide();a.show()})});jQuery("#filter-by li").click(function(){jQuery("#filter-by li").removeClass("active");jQuery(this).addClass("active");var a=jQuery(this).find("a").attr("data-filter"),b=jQuery("#masonry .item");a=="all"?b.removeClass("hidden"):b.each(function(){var b=jQuery(this);b.removeClass("hidden");b.hasClass(a)||b.addClass("hidden")});return!1});$("#sort-by li").click(function(){jQuery("#sort-by li").removeClass("active");jQuery(this).addClass("active");var a=$(this).find("a").attr("href").slice(1),b=$("#masonry .item");switch(a){case"order":b.tsort({data:"order"});break;case"name":b.tsort(".post-title a");break;case"votes":b.tsort(".votes",{order:"desc"})}return!1});jQuery(".toggle .trigger").bind("click",function(){var a=jQuery(this).parent(".toggle").find(".pane");jQuery(a).slideToggle();jQuery(this).toggleClass("open");return!1});jQuery('<div class="clear">&nbsp;</div>').insertAfter(".column-last");a();jQuery(window).resize(function(){a()});jQuery(window).bind("scroll",function(){jQuery("#backtotop").toggle(jQuery(this).scrollTop()>200)});jQuery.fn.exists=function(){return jQuery(this).length};jQuery(".dt-contactform").submit(function(){var a=jQuery(this);a.prev(".alert").slideUp(400,function(){a.prev(".alert").hide();jQuery.post(ajaxurl,{name:a.find(".dt-name").val(),email:a.find(".dt-email").val(),subject:a.find(".dt-subject").val(),comments:a.find(".dt-comments").val(),verify:a.find(".dt-verify").val(),action:"dt_contact_form"},function(b){a.prev(".alert").html(b);a.prev(".alert").slideDown("slow");a.find("img.loader").fadeOut("slow",function(){jQuery(this).remove()});b.match("success")!=null&&a.slideUp("slow")})});return!1});(function(a){function c(a){return typeof a=="object"?a:{top:a,left:a}}var b=a.scrollTo=function(b,c,e){a(window).scrollTo(b,c,e)};b.defaults={axis:"xy",duration:parseFloat(a.fn.jquery)>=1.3?0:1};b.window=function(b){return a(window)._scrollable()};a.fn._scrollable=function(){return this.map(function(){var b=this,c=!b.nodeName||a.inArray(b.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!c)return b;var e=(b.contentWindow||b).document||b.ownerDocument||b;return a.browser.safari||e.compatMode=="BackCompat"?e.body:e.documentElement})};a.fn.scrollTo=function(e,f,g){if(typeof f=="object"){g=f;f=0}typeof g=="function"&&(g={onAfter:g});e=="max"&&(e=9e9);g=a.extend({},b.defaults,g);f=f||g.speed||g.duration;g.queue=g.queue&&g.axis.length>1;g.queue&&(f/=2);g.offset=c(g.offset);g.over=c(g.over);return this._scrollable().each(function(){function r(a){i.animate(o,f,g.easing,a&&function(){a.call(this,e,g)})}var h=this,i=a(h),l=e,m,o={},q=i.is("html,body");switch(typeof l){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(l)){l=c(l);break}l=a(l,this);case"object":if(l.is||l.style)m=(l=a(l)).offset()}a.each(g.axis.split(""),function(a,c){var d=c=="x"?"Left":"Top",e=d.toLowerCase(),f="scroll"+d,j=h[f],n=b.max(h,c);if(m){o[f]=m[e]+(q?0:j-i.offset()[e]);if(g.margin){o[f]-=parseInt(l.css("margin"+d))||0;o[f]-=parseInt(l.css("border"+d+"Width"))||0}o[f]+=g.offset[e]||0;g.over[e]&&(o[f]+=l[c=="x"?"width":"height"]()*g.over[e])}else{var p=l[e];o[f]=p.slice&&p.slice(-1)=="%"?parseFloat(p)/100*n:p}/^\d+$/.test(o[f])&&(o[f]=o[f]<=0?0:Math.min(o[f],n));if(!a&&g.queue){j!=o[f]&&r(g.onAfterFirst);delete o[f]}});r(g.onAfter)}).end()};b.max=function(b,c){var e=c=="x"?"Width":"Height",f="scroll"+e;if(!a(b).is("html,body"))return b[f]-a(b)[e.toLowerCase()]();var g="client"+e,h=b.ownerDocument.documentElement,i=b.ownerDocument.body;return Math.max(h[f],i[f])-Math.min(h[g],i[g])}})(jQuery)});